(this["webpackJsonphn-search"]=this["webpackJsonphn-search"]||[]).push([[0],{21:function(e,t,a){e.exports=a(51)},32:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),l=a.n(c),o=a(3),u=a(1),s=a(19);a(32);var i=function(){return r.a.createElement("header",{className:"bg-dark mb-4",style:{backgroundImage:'url("/assets/images/utsav-srestha-HeNrEdA4Zp4-unsplash.jpg")',backgroundSize:"cover"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h1",{className:"text-white text-center py-2",style:{textShadow:"1px 1px 4px #555"}},"Search Hacker News")))))};var m=function(e){return r.a.createElement("button",{type:"submit",className:"btn btn-sm btn-dark"},e.text)},E=function(e){return{type:"SEARCH",payload:e}},d=function(e){return{type:"ADD_HISTORY",payload:e}},f=function(e){return{type:"OVERWRITE_RESULTS",payload:e}};var h=function(){var e=Object(u.c)((function(e){return e.searchTerm})),t=Object(u.b)();return r.a.createElement("div",{className:"mt-3"},r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),""!==e.trim()&&(t(d(e)),t(E("")))}},r.a.createElement("input",{className:"form-control form-control-sm mb-1",placeholder:"Search term",onChange:function(e){t(E(e.target.value))},value:e}),r.a.createElement(m,{text:"Search"})))};var v=function(e){var t=Object(u.b)();return r.a.createElement("div",{className:"d-flex mb-2",id:e.index},r.a.createElement("div",{className:"rounded-left bg-white p-2 flex-grow-1",style:{cursor:"pointer"},onClick:function(){return t(d(e.term))}},r.a.createElement("p",null,e.term)),r.a.createElement("div",{className:"rounded-right bg-light p-2",style:{borderLeft:"1px solid #ddd",cursor:"pointer"},onClick:function(){return t({type:"DELETE_HISTORY",payload:e.index})}},r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-times"}))))};var p=function(){var e=Object(u.c)((function(e){return e.viewSearch})),t=Object(u.c)((function(e){return e.searchHistory})),a=Object(u.b)();return r.a.createElement("div",{className:"bg-primary rounded p-3 mb-3"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-between",onClick:function(){return a({type:"CLICK_SEARCH"})}},r.a.createElement("h4",{className:"text-white mb-0"},"Search"),r.a.createElement("h4",{className:"text-white mb-0"},r.a.createElement("i",{className:e?"fas fa-chevron-up":"fas fa-chevron-down"}))),e&&r.a.createElement(h,null),e&&t[0]&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"font-weight-bold text-white my-3"},"Previous Search Terms:"),r.a.createElement("div",{style:{maxHeight:"192px",overflow:"auto"}},t.map((function(e,t){return r.a.createElement(v,{term:e,index:t,key:t})})))))};var b=function(){var e=Object(u.b)();return r.a.createElement("form",null,r.a.createElement("div",{className:"d-sm-flex align-items-center"},r.a.createElement("label",{className:"mr-sm-3 mb-2 mb-sm-0 font-weight-bold"},"Sort results by:"),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("select",{className:"form-control form-control-sm mr-1",style:{maxWidth:"150px"},onChange:function(t){var a=t.target.value;e({type:a})}},r.a.createElement("option",{value:"Relevance"},"Relevance"),r.a.createElement("option",{value:"Date"},"Date")))))},y=a(8),g=a.n(y),N=function(e){return g.a.get("http://hn.algolia.com/api/v1/search?query="+e)},w=function(e){return g.a.get("http://hn.algolia.com/api/v1/search_by_date?query="+e)},x=a(20),O=a.n(x);var S=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("h3",null,e.title||e.storyTitle),r.a.createElement("p",null,e.author),r.a.createElement("p",null,r.a.createElement("i",null,O()(e.created).format("MM-DD-YYYY"))),r.a.createElement("p",null,r.a.createElement("a",{href:e.url||e.storyURL,target:"_blank",rel:"noopener noreferrer"},(e.url||e.storyURL)&&r.a.createElement("span",null,"View story"))))};var R=function(){var e=Object(u.c)((function(e){return e.searchHistory})),t=Object(u.c)((function(e){return e.sortType})),a=Object(u.c)((function(e){return e.results})),c=Object(u.b)(),l=e[0]||"";return Object(n.useEffect)((function(){switch(t){case"Date":c((e=l,function(t){return w(e).then((function(e){return t(f(e.data.hits))})).catch((function(e){return console.log(e)}))}));break;default:c(function(e){return function(t){return N(e).then((function(e){return t(f(e.data.hits))})).catch((function(e){return console.log("hey there",e)}))}}(l))}var e}),[t,l,c]),r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement(S,{title:e.title,storyTitle:e.story_title,author:e.author,created:e.created_at,url:e.url,storyURL:e.story_url,key:e.objectID})})),0===a.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("p",null,'No results found for "',l,'"')))};var _=function(){return r.a.createElement("footer",{className:"bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"text-muted text-center mt-2"},"\xa9 Gina Lucy 2020")))))};var T=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"main-content"},r.a.createElement(i,null),r.a.createElement("section",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement(p,null)),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(b,null),r.a.createElement(R,null)))))),r.a.createElement(_,null))},j=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLICK_SEARCH":return!e;default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Relevance",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Date":return"Date";case"Relevance":return"Relevance";default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return t.payload;default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_HISTORY":var a=e.slice();return a.unshift(t.payload),a;case"DELETE_HISTORY":var n=e.slice();return n.splice(t.payload,1),n;default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OVERWRITE_RESULTS":return t.payload;default:return e}},I=Object(o.c)({viewSearch:j,sortType:D,searchTerm:k,searchHistory:C,results:H}),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,Y=Object(o.e)(I,L(Object(o.a)(s.a)));l.a.render(r.a.createElement(u.a,{store:Y},r.a.createElement(T,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.5a0da970.chunk.js.map